<ion-content class="ion-padding">

  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-button color="medium" (click)="closeModal(false)">Cancel</ion-button>
      </ion-buttons>
      <ion-title>{{ actionType === 'update' ? 'Update Attendance' : 'Add Attendance' }}</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="closeModal(true)" [strong]="true" [disabled]="attendanceForm.invalid">Confirm</ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content class="ion-padding">
    <form [formGroup]="attendanceForm" (ngSubmit)="closeModal(true)">
      <ion-item>
        <ion-select labelPlacement="stacked" label="Select Employee" formControlName="employeeName"
          placeholder="Select a Employee">
          <ion-select-option *ngFor="let employee of employees" [value]="employee.id">
            {{ employee.first_name + " " + employee.last_name }}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <div *ngIf="attendanceForm.controls['employeeName'].touched && attendanceForm.controls['employeeName'].invalid">
        <ion-text color="danger">Please select a employee.</ion-text>
      </div>

      <ion-item>
        <ion-select labelPlacement="stacked" label="Select Department" formControlName="employeeDept"
          placeholder="Select a Department">
          <ion-select-option *ngFor="let department of departments" [value]="department.id">
            {{ department.name }}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <div *ngIf="attendanceForm.controls['employeeDept'].touched && attendanceForm.controls['employeeDept'].invalid">
        <ion-text color="danger">Please select a employee.</ion-text>
      </div>

      <ion-item>
        <ion-label>Choose a Time</ion-label>
        <ion-datetime-button datetime="datetime"></ion-datetime-button>
        <ion-modal [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime id="datetime"></ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-item>

      <ion-item>
        <ion-select labelPlacement="stacked" label="Select Status" formControlName="status" placeholder="Select Status">
          <ion-select-option value="Present">Present</ion-select-option>
          <ion-select-option value="Absent">Absent</ion-select-option>
          <ion-select-option value="Late">Late</ion-select-option>
        </ion-select>
      </ion-item>
      <div *ngIf="attendanceForm.controls['status'].touched && attendanceForm.controls['status'].invalid">
        <ion-text color="danger">Status is required.</ion-text>
      </div>

    </form>
  </ion-content>